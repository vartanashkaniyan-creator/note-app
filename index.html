<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <meta name="description" content="Advanced App Builder - Ø³Ø§Ø®Øª Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ø§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø³Ø§Ø¯Ù‡">
  <meta name="theme-color" content="#0f0f0f">
  <title>Advanced App Builder | Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø§Ù¾ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
  <link rel="stylesheet" href="style.css" />
  
  <!-- Security Headers (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ) -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
  <meta name="referrer" content="strict-origin">
</head>
<body>
  <!-- Language Selector -->
  <div class="header-bar">
    <select id="languageSelect" onchange="handleLanguageChange(event)" 
            aria-label="Select language" title="Ø²Ø¨Ø§Ù† / Language">
      <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
      <option value="en">English</option>
    </select>
    
    <button onclick="window.appDebug && console.log(window.appDebug.getState())" 
            class="debug-btn" title="Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒØ¨Ø§Ú¯">
      ğŸ
    </button>
  </div>

  <!-- Main App Container -->
  <main id="app" role="main" aria-label="Application Interface">
    <!-- Ù…Ø­ØªÙˆØ§ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÙˆÛŒØ§ ØªÙˆØ³Ø· JavaScript Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
    <noscript>
      <div class="noscript-warning">
        <h2>âš ï¸ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù„Ø§Ø²Ù… Ø§Ø³Øª</h2>
        <p>Ø§ÛŒÙ† Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ú©Ø±Ø¯Ù† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¯Ø§Ø±Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…Ø±ÙˆØ±Ú¯Ø± Ø®ÙˆØ¯ Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯.</p>
      </div>
    </noscript>
  </main>

  <!-- Footer -->
  <footer>
    <p>Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ | Advanced App Builder v2.1</p>
    <p class="hint">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹: "screen note" ÛŒØ§ "ØµÙØ­Ù‡ ÛŒØ§Ø¯Ø¯Ø§Ø´Øª" Ø±Ø§ Ø¯Ø± Ú©Ø§Ø¯Ø± Ø¯Ø³ØªÙˆØ±Ø§Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
  </footer>

  <!-- JavaScript Files -->
  <script src="engine.js"></script>
  <script src="main.js"></script>
  
  <!-- Loading Fallback -->
  <script>
    // Ù†Ù…Ø§ÛŒØ´ loading Ø§Ú¯Ø± JS ÙØ¹Ø§Ù„ Ø§Ø³Øª
    document.addEventListener('DOMContentLoaded', function() {
      const app = document.getElementById('app');
      if (app && app.children.length === 0) {
        const loader = document.createElement('div');
        loader.className = 'loader';
        loader.innerHTML = `
          <div class="spinner"></div>
          <p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
        `;
        app.appendChild(loader);
      }
    });
    
    // Ø­Ø°Ù loader ÙˆÙ‚ØªÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯
    window.addEventListener('appReady', function() {
      const loader = document.querySelector('.loader');
      if (loader) loader.remove();
    });
  </script>
</body>
</html>
