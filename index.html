<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>اپ کدنویس</title>
<style>
body {
  font-family: sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 10px;
}
textarea {
  width: 100%;
  height: 120px;
  margin-bottom: 8px;
  font-family: monospace;
}
button {
  width: 100%;
  padding: 12px;
  background: #4CAF50;
  color: #fff;
  border: none;
  font-size: 16px;
}
iframe {
  width: 100%;
  height: 250px;
  border: 1px solid #ccc;
  margin-top: 10px;
  background: #fff;
}
</style>
</head>
<body>

<h3>انتخاب حالت:</h3>
<button onclick="switchMode('simple')">حالت ساده</button>
<button onclick="switchMode('advanced')">حالت حرفه‌ای</button>

<!-- حالت ساده -->
<div id="simpleEditor" style="display:block;">
  <h3>HTML</h3>
  <textarea id="html" placeholder="کد HTML خود را وارد کنید..."></textarea>
  <button onclick="run()">اجرا</button>
  <iframe id="result"></iframe>
</div>

<!-- حالت حرفه‌ای -->
<div id="advancedEditor" style="display:none;">
  <h3>HTML</h3>
  <textarea id="html"></textarea>
  <h3>CSS</h3>
  <textarea id="css"></textarea>
  <h3>JavaScript</h3>
  <textarea id="js"></textarea>
  <button onclick="run()">اجرا</button>
  <iframe id="result"></iframe>
</div>

<script>
function switchMode(mode) {
  if (mode === 'simple') {
    document.getElementById('simpleEditor').style.display = 'block';
    document.getElementById('advancedEditor').style.display = 'none';
  } else {
    document.getElementById('simpleEditor').style.display = 'none';
    document.getElementById('advancedEditor').style.display = 'block';
  }
}

function run() {
  const html = document.getElementById("html").value;
  const css = "<style>" + document.getElementById("css").value + "</style>";
  const js = "<script>" + document.getElementById("js").value + "<\/script>";
  document.getElementById("result").srcdoc = html + css + js;
}
</script>

</body>
</html>
