
<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>اپ کدنویس</title>

<style>
body {
  font-family: sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 10px;
}

textarea {
  width: 100%;
  height: 120px;
  margin-bottom: 8px;
  font-family: monospace;
  font-size: 14px;
}

button {
  width: 100%;
  padding: 12px;
  background: #4CAF50;
  color: white;
  border: none;
  font-size: 16px;
}

iframe {
  width: 100%;
  height: 250px;
  border: 1px solid #ccc;
  margin-top: 10px;
  background: white;
}
</style>
</head>

<body>

<h3>HTML</h3>
<textarea id="html"></textarea>

<h3>CSS</h3>
<textarea id="css"></textarea>

<h3>JavaScript</h3>
<textarea id="js"></textarea>

<button onclick="run()">اجرای کد</button>

<iframe id="result"></iframe>

<script>
// --- Auto Save ---
const htmlBox = document.getElementById("html");
const cssBox  = document.getElementById("css");
const jsBox   = document.getElementById("js");

htmlBox.value = localStorage.getItem("html") || "";
cssBox.value  = localStorage.getItem("css")  || "";
jsBox.value   = localStorage.getItem("js")   || "";

htmlBox.oninput = () => localStorage.setItem("html", htmlBox.value);
cssBox.oninput  = () => localStorage.setItem("css", cssBox.value);
jsBox.oninput   = () => localStorage.setItem("js", jsBox.value);

// --- Run Code ---
function run() {
  const html = htmlBox.value;
  const css = "<style>" + cssBox.value + "</style>";
  const js = "<script>" + jsBox.value + "<\/script>";
  document.getElementById("result").srcdoc = html + css + js;
}
</script>

</body>
</html>
